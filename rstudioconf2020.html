<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>RStudio::conf 2020</title>
    <meta charset="utf-8" />
    <meta name="author" content=".left[  _Anna Krystalli_]" />
    <link href="libs/font-awesome-5.3.1/css/fontawesome-all.min.css" rel="stylesheet" />
    <script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
    <script src="libs/vega-5.9.0/vega.min.js"></script>
    <script src="libs/vega-lite-4.0.2/vega-lite.min.js"></script>
    <link href="libs/vega-embed-6.2.0/vega-embed.css" rel="stylesheet" />
    <script src="libs/vega-embed-6.2.0/vega-embed.js"></script>
    <script src="libs/vegawidget-binding-0.3.1/vegawidget.js"></script>
    <link rel="stylesheet" href="assets/css/rstudioconf-xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# RStudio::conf 2020
## Reflections
### .left[<br> _Anna Krystalli_]
### .left[<em>2020-03-04, Sheffield R Users Group</em>]

---





# üëã Hello



### me: **Dr Anna Krystalli**

- **Research Software Engineer**, _University of Sheffield_
    + <i class="fab  fa-twitter "></i> **@annakrystalli**
    + <i class="fab  fa-github "></i> **@annakrystalli**
    + <i class="fas  fa-envelope "></i> **a.krystalli[at]sheffield.ac.uk**
    
- **Editor [rOpenSci](http://onboarding.ropensci.org/)**

- **Co-organiser:** [Sheffield R Users group](https://www.meetup.com/SheffieldR-Sheffield-R-Users-Group/)


&lt;br&gt;

---
layout: true

.footnote[<i class="fab  fa-twitter "></i> @annakrystalli]

---
## Rstudio::conf 2020 

##### <i class="fas  fa-map-pin "></i> &amp;nbsp; San Francisco, USA  &amp;nbsp; &amp;nbsp;<i class="fas  fa-calendar "></i> &amp;nbsp; 25 - 28 Jan


&gt; ### 2 days of [Workshops](https://rviews.rstudio.com/2020/01/27/rstudio-conf-2020-workshopsr/)
&gt;
&gt; - All materials [available](https://github.com/rstudio-conf-2020)
&gt; 
&gt; ### 2 days of talks
&gt;
&gt; - All [recorded](https://resources.rstudio.com/rstudio-conf-2020)


---
class: inverse, middle 

.center[
## Data visualisation
]

---

## [Data, visualization, and designing AI](https://resources.rstudio.com/rstudio-conf-2020/data-visualization-and-designing-ai-fernanda-viegas-and-martin-wattenberg)

#### _Fernanda Viegas &amp; Martin Wattenberg_

&lt;img src="assets/rstudioconf-pair.png" width="60%" /&gt;


---

## [Facets - KNOW YOUR DATA](https://pair-code.github.io/facets/)

.pull-left[

### Better data leads to better models.
]

.pull-right[

**Understanding your data is critical to building a powerful machine learning system.**


- **Facets Overview:** Get a sense of the shape of each feature of your dataset

- **Facets Dive.** explore individual observations  
]

---

## Facets Overview

Summary exploration of data

.pull-left[

&lt;img src="assets/rstudioconf-facets-overview1.png" width="1955" /&gt;


]

.pull-right[

&lt;img src="assets/rstudioconf-facets-overview2.png" width="1661" /&gt;
]

---
## Facets Dive

Exploration of individual datasets

.pull-left[

&lt;img src="assets/rstudioconf-facets-matrix.png" width="5376" /&gt;


]

.pull-right[

&lt;img src="assets/rstudioconf-facets-hist.png" width="5376" /&gt;

]
---

## Facets Dive - Quick Draw

[![](assets/rstudioconf-facets-dive-draw.png)](https://pair-code.github.io/facets/quickdraw.html)

---
## People + AI (PAIR)

This Guidebook will help you build human-centered AI products. It‚Äôll enable you to avoid common mistakes, design excellent experiences, and focus on people as you build AI-driven applications.

---
## [Auto-magic Package Development](https://resources.rstudio.com/rstudio-conf-2020/auto-magic-package-development-alicia-schep)

#### _Alicia Schep_

‚Äòvlbuildr‚Äô package seeks to provide a pipe-friendly, ‚ÄúR-like‚Äù functional interface for building up simple to complex specifications for Vega-Lite graphics

&lt;img src="assets/rstudioconf-facets-hist.png" width="5376" /&gt;

---

### Vegalite



&lt;img src="assets/rstudioconf-vlbuildr-json.png" width="4592" /&gt;


---

### Vegalite

&lt;img src="assets/rstudioconf-vlbuildr-api.png" width="4868" /&gt;



---

```r
vl_chart() %&gt;%
  vl_add_data(url = "https://vega.github.io/vega-editor/app/data/cars.json") %&gt;%
  vl_mark_point() %&gt;%
  vl_encode_x(field = "Horsepower", type = "quantitative") %&gt;%
  vl_encode_y(field = "Miles_per_Gallon", type = "quantitative") %&gt;%
  vl_encode_color(field = list("repeat" = "column"), type = "nominal") %&gt;%
  vl_repeat_col("Origin", "Cylinders") %&gt;%
  vl_resolve_scale_color("independent")
```
---

<div id="htmlwidget-6c88b8135f26f29a17fd" style="width:auto;height:auto;" class="vegawidget html-widget"></div>
<script type="application/json" data-for="htmlwidget-6c88b8135f26f29a17fd">{"x":{
  "chart_spec": {
    "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
    "data": {
      "url": "https://vega.github.io/vega-editor/app/data/cars.json"
    },
    "spec": {
      "mark": {
        "type": "point"
      },
      "encoding": {
        "x": {
          "field": {
            "repeat": "column"
          },
          "type": "quantitative"
        },
        "y": {
          "field": {
            "repeat": "row"
          },
          "type": "quantitative"
        },
        "color": {
          "value": "grey",
          "condition": {
            "selection": "brush",
            "type": "nominal",
            "field": "Origin"
          }
        }
      },
      "selection": {
        "brush": {
          "resolve": "global",
          "type": "interval"
        }
      }
    },
    "repeat": {
      "row": [
        "Horsepower",
        "Acceleration",
        "Miles_per_Gallon"
      ],
      "column": [
        "Miles_per_Gallon",
        "Acceleration",
        "Horsepower"
      ]
    }
  },
  "embed_options": {
    "defaultStyle": true,
    "renderer": "canvas"
  }
},"evals":[],"jsHooks":[]}</script>


---
class: inverse, middle

.center[
# the stuff of dreams
]

---

## [Shiny styling](https://resources.rstudio.com/rstudio-conf-2020/styling-shiny-apps-with-sass-and-bootstrap-4-joe-cheng) w `bootstraplib`

#### _Joe Cheng_


&lt;img src="assets/rstudioconf-shiny-boot-custom.png" width="1132" /&gt;


---

## [Shiny styling](https://resources.rstudio.com/rstudio-conf-2020/styling-shiny-apps-with-sass-and-bootstrap-4-joe-cheng) w `bootstraplib`



.pull-left[

&lt;img src="assets/rstudioconf-shiny-boot-sass-replace.png" width="1204" /&gt;


]

.pull-right[

&lt;img src="assets/rstudioconf-shiny-boot-sass.png" width="1633" /&gt;

]

---


&lt;img src="assets/rstudioconf-shiny-boot.png" width="1395" /&gt;

---

## `bootstraplib` addin

&lt;img src="assets/rstudioconf-shiny-boot-addin.png" width="55%" /&gt;

---

## [Reproducible shinyapps w `shinymeta`](https://resources.rstudio.com/rstudio-conf-2020/reproducible-shiny-apps-with-shinymeta-dr-carson-sievert)

#### _Carson Sievert_

&lt;img src="assets/rstudioconf-shinymeta-prob.png" width="1452" height="20%" /&gt;

---

### Example `shinymeta`

.pull-left[

&lt;img src="assets/rstudioconf-shinymeta-example1.png" width="1549" /&gt;


]

.pull-right[

&lt;img src="assets/rstudioconf-shinymeta-example2.png" width="1656" /&gt;

]


---

### `shinymeta` usage

&lt;img src="assets/rstudioconf-shinymeta-code.png" width="1731" /&gt;

---

### `shinymeta` outputs

.pull-left[

&lt;img src="assets/rstudioconf-shinymeta-out1.png" width="1664" /&gt;


]

.pull-right[

&lt;img src="assets/rstudioconf-shinymeta-out2.png" width="1643" /&gt;

]


---

## [Interactivity and Programming in the Tidyverse](https://resources.rstudio.com/rstudio-conf-2020/interactivity-and-programming-in-the-tidyverse-lionel-henry)

#### _Lionel Henry_

advances in the tidy eval framework that make it easier to program around tidyverse pipelines without having to learn a lot of theory.

---
## Data-masking

&gt; ### Idea of blending data with the workspace


```r
lm(Sepal.Length ~ Sepal.Width, data = iris)
```

```
## 
## Call:
## lm(formula = Sepal.Length ~ Sepal.Width, data = iris)
## 
## Coefficients:
## (Intercept)  Sepal.Width  
##      6.5262      -0.2234
```

---

## Data-masking

&gt; #### Creates ambiguity between **data-variables** and **environment-variables**
 - unexpected masking by data-variables
 - data-variables that can't pass through functions

---

### Masking by data-variables


```
## 
## Attaching package: 'dplyr'
```

```
## The following objects are masked from 'package:stats':
## 
##     filter, lag
```

```
## The following object is masked from 'package:testthat':
## 
##     matches
```

```
## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union
```

.pull-left[

```r
n &lt;- 100
data.frame(x = 1) %&gt;%
  mutate(y = x / n) %&gt;%
  pull(y)
```

```
## [1] 0.01
```

]

.pull-right[

```r
data.frame(x = 1,
           n = 2) %&gt;%
  mutate(y = x / n) %&gt;%
  pull(y)
```

```
## [1] 0.5
```

]

---
### Masking by data-variables

#### Solution: Be explicit!


```r
data.frame(x = 1,
           n = 2) %&gt;%
  mutate(y = .data$x / .env$n) 
```

```
##   x n    y
## 1 1 2 0.01
```

Use **`.env`** pronoun to refer to objects in environment and `.data` for data columns

---

### Passing data-variables through funtions


```r
mean_by &lt;- function(data, by, var){
  data %&gt;%
    group_by(by) %&gt;%
    summarise(avg = mean(var))
}
```


```r
iris %&gt;% mean_by(Species, Petal.Length)
```

```
## Error: Column `by` is unknown
```

---

### Passing data-variables through funtions

Tunnel data variable through env-variable with **`{{ }}`**


```r
mean_by &lt;- function(data, by, var){
  data %&gt;%
*   group_by({{ by }}) %&gt;%
*   summarise(avg = mean({{ var }}))
}
```


```r
iris %&gt;% mean_by(Species, Petal.Length)
```

```
## # A tibble: 3 x 2
##   Species      avg
##   &lt;fct&gt;      &lt;dbl&gt;
## 1 setosa      1.46
## 2 versicolor  4.26
## 3 virginica   5.55
```

---

### Programmable result name

Use glue string!


```r
mean_by &lt;- function(data, by, var){
  data %&gt;%
    group_by({{ by }}) %&gt;%
*   summarise("{{ var }}" := mean({{ var }}))
}
```


```r
iris %&gt;% mean_by(Species, Petal.Length)
```

```
## # A tibble: 3 x 2
*##   Species    Petal.Length
##   &lt;fct&gt;             &lt;dbl&gt;
## 1 setosa             1.46
## 2 versicolor         4.26
## 3 virginica          5.55
```
---

### Writting functions with data masking propagates it

&gt; Users will need to be aware!

---

### Wrap tidy pipelines without data-masking?


```r
mean_by &lt;- function(data, by, var){
  data %&gt;%
*   group_by(.data[[by]]) %&gt;%
*   summarise("{var}" := mean(.data[[var]]))
}
```


```r
iris %&gt;% mean_by("Species", "Petal.Length")
```

```
## # A tibble: 3 x 2
##   Species    Petal.Length
##   &lt;fct&gt;             &lt;dbl&gt;
## 1 setosa             1.46
## 2 versicolor         4.26
## 3 virginica          5.55
```

---

## [Rstudio 1.3 Sneak Preview](https://resources.rstudio.com/rstudio-conf-2020/rstudio-1-3-sneak-preview-jonathan-mcpherson)

#### _Jonathan McPherson_



&lt;img src="assets/rstudioconf-1.3gr.png" width="5376" /&gt;


---

## Rstudio 1.3 Sneak Preview


.pull-left[

&lt;img src="assets/rstudioconf-1.3schk.png" width="5376" /&gt;


]

.pull-right[

&lt;img src="assets/rstudioconf-1.3schk2.png" width="5376" /&gt;
]


---
class: inverse, middle

.center[
# masters of entertainment
]

---

## [Learning R with humorous side projects](https://resources.rstudio.com/rstudio-conf-2020/learning-r-with-humorous-side-projects-ryan-timpe)

#### _Ryan Timpe_

---

##### Q: Which season should I watch while playing the Golden Girls Drinking Game?

&lt;img src="assets/rstudioconf-humour-ggirls.png" width="70%" /&gt;

---

### Animated paths of Jurassic Park characters



&lt;img src="assets/rstudioconf-humour-jpark2.png" width="70%" /&gt;

---

### Learn new tools!

&lt;img src="assets/rstudioconf-humour-tools.png" width="70%" /&gt;
---

### [One R Markdown Document, Fourteen Demos](https://resources.rstudio.com/rstudio-conf-2020/one-r-markdown-document-fourteen-demosyihui-xie?wvideo=aj3deolth1)

#### _Yihui Xie_

&lt;p&gt;&lt;a href="https://resources.rstudio.com/rstudio-conf-2020/one-r-markdown-document-fourteen-demosyihui-xie?wvideo=aj3deolth1"&gt;&lt;img src="https://embedwistia-a.akamaihd.net/deliveries/995470d4b099ae9b3421014c31c22716.jpg?image_play_button_size=2x&amp;amp;image_crop_resized=960x539&amp;amp;image_play_button=1&amp;amp;image_play_button_color=4287c7e0" width="400" height="225" style="width: 600px; height: 375px;"&gt;&lt;/a&gt;&lt;/p&gt;

---
class: inverse, middle

.center[
# fell good moments
]
---

## R-ladies!

&lt;blockquote class="twitter-tweet"&gt;&lt;p lang="en" dir="ltr"&gt;Hello üëã from &lt;a href="https://twitter.com/hashtag/RLadies?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#RLadies&lt;/a&gt; at &lt;a href="https://twitter.com/hashtag/rstudioconf?src=hash&amp;amp;ref_src=twsrc%5Etfw"&gt;#rstudioconf&lt;/a&gt;!!üíú &lt;a href="https://t.co/lTUK2Ap9bc"&gt;pic.twitter.com/lTUK2Ap9bc&lt;/a&gt;&lt;/p&gt;&amp;mdash; R-Ladies Global (@RLadiesGlobal) &lt;a href="https://twitter.com/RLadiesGlobal/status/1223082687759441920?ref_src=twsrc%5Etfw"&gt;January 31, 2020&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

---

## RStudio, PBC

.pull-left[

#### _J.J. Allaire_

&lt;iframe allowtransparency="true" title="Wistia video player" allowFullscreen frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" src="https://fast.wistia.net/embed/iframe/i7lqqlo6ng" width="400" height="225"&gt;&lt;/iframe&gt;

]


.pull-right[

**Primary purpose:** [Create free and open-source software for data science, scientific research, and technical communication.](https://blog.rstudio.com/2020/01/29/rstudio-pbc/)

&lt;img src="assets/cert_bcorp.png" width="903" /&gt;

]
---
class: inverse, middle

## Thanks for üëÄ

### slides: **bit.ly/r-in-repro-research**
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
